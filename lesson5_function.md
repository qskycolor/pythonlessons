# 第四课

这一节课我们开始学习一下Python中的函数。

前面的课程中已经遇到了几个函数：
print 打印函数
type 获取变量类型的函数

编程中的函数和数学中的函数是类似的，比如：
f(x) = 2x+1
这个函数先把自变量x乘以2，然后再加1，这是一个计算过程，用f(x)来表示这个函数。

Python中的函数也可以看作一个计算过程，它是把多个语句放在一起，然后用一个变量来代表。

函数的定义使用关键字def，包含几个要素：

1. 关键字def
2. 函数名称
3. 参数
4. 函数体
5. 返回值
6. 冒号和缩进

```
def f1(x):
	t = 2 * x + 1
	print(t)

# 调用f1
f1(2)   # 5
type(f1) # <class 'function'>
```

上面的代码定义了一个函数，名字叫f1，f1也是一个变量，类型是function。
f1这个函数有一个参数x，可以理解它是外部输入的数据。

函数定义好了就可以使用了，使用函数称为调用函数。
需要注意的是：函数名称后面跟着参数，参数要用括号括起来，参数后面跟着一个冒号，
冒号后面是该函数要实现的功能，即函数体，也可以称为代码块（block），它由多行语句组成。
函数体中的代码块要保持一致的缩进，一般推荐使用4个空格。
Python以缩进来区分不同的代码层级，如果相同层级的代码块缩进不一致是会提示错误的。
如果函数有返回值，可以用关键字return返回该值。

```
def add(x,y):
	s = x + y
	return s
```

上面定义了一个函数add，功能是把传入的两个参数进行求和并返回，调用这个函数：

```
add(1,2) # 3
```

可以看到，add这个函数有两个参数，用逗号隔开。如果有更多的参数，都是用逗号分隔。
这样按顺序排列的参数称为位置参数，在调用函数时必须严格按照顺序传入参数，且不能缺少。

也可以给参数一个默认值，如果不给该位置参数传值时就使用默认值。
举个例子，定义一个幂函数：

```
def pow(x):
	return x * x
```

pow函数实现了乘方的功能，如果想实现3次方，那么可以多加入一个参数：

```
def pow(x,n):
	return x^n
```

如果我们想直接调用pow(5)就能得到平方的功能，就可以给n一个默认值2即可：


```
def pow(x,n=2):
	return x^n

pow(5) # 25
```

参数n就称为默认参数。

如果有很多个参数，都写在括号中，就很不方便，Python支持可变参数：

```
def add(*num):
	print(num)
	result = 0
	for n in num:
		result = result + n
	return result

res = add(1,2,3,4,5) # (1, 2, 3, 4, 5)
print(res) # 15
```

像num这种在前面加一个星号表示是可变参数。

这个add函数是把传入的参数进行求和。
其中涉及到的for和in这两个关键字后面会详情讲到，它们是用来循环的。

如果有多个参数，那么在调用的时候调用者并不不能明显的看出每个参数是什么意思，
Python支持以形如 kwarg=value 的关键字参数形式来调用函数，这看起来和默认参数一样。

```
def register(name,sex=1,address='上海',job='程序员'):
	print(name, sex, address, job)

# 调用函数
register(name='Lily', sex=0, address='杭州', job='网红')
register('Lily', address='北京', job='设计师')
```

如果存在一个'**name',**可以把除了正式参数以外的关键字参数打包到一起。
```
def register(name,sex=1,**kw):
	print(name, sex, kw)

# 调用函数
register('Tom', address='上海', job='程序员')
```

可以看到这个函数输出：Tom 1 {'address': '上海', 'job': '程序员'}

调用register这个函数时，只有name这个参数是必须的位置参数，sex默认参数，有一个默认值1，
此处调用时没有给其传值，所以输出1，后面的address和job属于关键字参数，kw把这两个关键字
参数打包成了一个字典，用{}表示，我们即将要学习字典。

这几种类型的参数可以组合在一起使用，但是必须要遵循一定的顺序：
位置参数（必选参数），默认参数（可选参数），可变参数，关键字参数。

想一想这是为什么呢？

其实，我们可以用可变参数和关键字参数来表示任意类型和任意数量的参数：

```
def func(*args, **kw):
	print(args, kw)

# 调用函数func
func(1, 2, 3, name='Jack', age='18', address='New York')
```
可以看到输出：(1, 2, 3) {'name': 'Jack', 'age': '18', 'address': 'New York'}

其中的数字用一个括号括起来了，这是一种新的类型，我们也即将学到。

好了，我们把函数的参数讲完了。

刚开始的时候，我们讲到函数f1也是一个变量，函数是一种新的数据类型。
既然f1是变量，那么它就有一个值，而这个值就是一个函数。
而且，我们就可以把它赋值给另一个变量：

```
def f2():
	print('f2')

f2()
f3 = f2
f3()
```

可以看到输出是一样的，f2代表的函数又赋值给f3，这两个变量代表的是同一个函数，所以输出是相同的。


考虑一个问题，函数体能不能是空的呢？大家可以试一试。
那么能不能定义一个什么都不做的函数呢？可以的。
在学习关键字的时候，我们列出了Python所有的关键字，其中有一个pass就是做这件事的。

```
def nop():
	pass
```

上面的nop函数，它的函数体中只有一个pass，这个函数就是什么也不做，直接pass。
那么为什么要这样一个关键字呢？
可能有时候，我们只想到需要做什么事，只想好了名字，具体的步骤并没有想好，用pass就
相当于先占一个桩，等以后想好了再往函数体写具体的逻辑。


然后，需要提到的是，在最新版本的Python中，支持给函数的参数和返回值加一个标注(Annotations)：


```
def fn(name: str, age: int = 18) -> int:
	print(name,age)
	return age + 1

print(fn('John', 22)) # John 22, 23
```

这个功能就是说明一下函数的参数是什么数据类型的，该函数返回的数据是什么类型的。


最后，我们使用Python内置的一个函数input来实现获取用户输入的内容。

```
print('Please input your name:')
name1 = input()
print('Please input your age:')
age1 = input()
print('Your name is %s, age is %s' % (name1, age1))
```





















